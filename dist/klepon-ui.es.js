import{createRenderEffect as j,getOwner as L,sharedConfig as v,createEffect as ne,runWithOwner as te,createMemo as K,createSignal as M,createRoot as oe,onCleanup as k,$PROXY as m,$TRACK as V,getListener as R,batch as ie,createContext as p,createComponent as y,useContext as W,children as le,createComputed as re,untrack as fe,onMount as I,Show as ce}from"solid-js";import g from"gsap";function se(n,o,l){let e=l.length,i=o.length,u=e,f=0,a=0,r=o[i-1].nextSibling,c=null;for(;f<i||a<u;)if(o[f]===l[a])f++,a++;else{for(;o[i-1]===l[u-1];)i--,u--;if(i===f)for(var t=u<e?a?l[a-1].nextSibling:l[u-a]:r;a<u;)n.insertBefore(l[a++],t);else if(u===a)for(;f<i;)c&&c.has(o[f])||o[f].remove(),f++;else if(o[f]===l[u-1]&&l[a]===o[i-1]){var s=o[--i].nextSibling;n.insertBefore(l[a++],o[f++].nextSibling),n.insertBefore(l[--u],s),o[i]=l[u]}else{if(!c){c=new Map;let e=a;for(;e<u;)c.set(l[e],e++)}var v=c.get(o[f]);if(null!=v)if(a<v&&v<u){let e=f,r=1,t;for(;++e<i&&e<u&&null!=(t=c.get(o[e]))&&t===v+r;)r++;if(r>v-a)for(var d=o[f];a<v;)n.insertBefore(l[a++],d);else n.replaceChild(l[a++],o[f++])}else f++;else o[f++].remove()}}}function de(r,e,t){let n,o=()=>{return(n=n||((e=document.createElement("template")).innerHTML=r,e.content.firstChild)).cloneNode(!0);var e};return o.cloneNode=o}function _(r,t,n,e){if(void 0===n||e||(e=[]),"function"!=typeof t)return P(r,t,e,n);j(e=>P(r,t(),e,n),e)}function ue(e){return!!v.context&&!v.done&&(!e||e.isConnected)}function P(t,n,o,l,i){var u=ue(t);if(u){o=o||[...t.childNodes];var r=[];for(let e=0;e<o.length;e++){var f=o[e];8===f.nodeType&&"!$"===f.data.slice(0,2)?f.remove():r.push(f)}o=r}for(;"function"==typeof o;)o=o();if(n!==o){var e=typeof n,a=void 0!==l;if(t=a&&o[0]&&o[0].parentNode||t,"string"==e||"number"==e){if(u||"number"==e&&(n=n.toString())===o)return o;if(a){let e=o[0];e&&3===e.nodeType?e.data!==n&&(e.data=n):e=document.createTextNode(n),o=S(t,o,l,e)}else o=""!==o&&"string"==typeof o?t.firstChild.data=n:t.textContent=n}else if(null==n||"boolean"==e){if(u)return o;o=S(t,o,l)}else{if("function"==e)return j(()=>{let e=n();for(;"function"==typeof e;)e=e();o=P(t,e,o,l)}),()=>o;if(Array.isArray(n)){let r=[],e=o&&Array.isArray(o);if(B(r,n,o,i))return j(()=>o=P(t,r,o,l,!0)),()=>o;if(u){if(!r.length)return o;if(void 0===l)return o=[...t.childNodes];let e=r[0];if(e.parentNode!==t)return o;for(var c=[e];(e=e.nextSibling)!==l;)c.push(e);return o=c}if(0===r.length){if(o=S(t,o,l),a)return o}else e?0===o.length?q(t,r,l):se(t,o,r):(o&&S(t),q(t,r));o=r}else if(n.nodeType){if(u&&n.parentNode)return o=a?[n]:n;if(Array.isArray(o)){if(a)return o=S(t,o,l,n);S(t,o,null,n)}else null!=o&&""!==o&&t.firstChild?t.replaceChild(n,t.firstChild):t.appendChild(n);o=n}}}return o}function B(o,l,i,u){let f=!1;for(let n=0,e=l.length;n<e;n++){let e=l[n],r=i&&i[o.length],t;if(null!=e&&!0!==e&&!1!==e)if("object"==(t=typeof e)&&e.nodeType)o.push(e);else if(Array.isArray(e))f=B(o,e,r)||f;else if("function"==t)if(u){for(;"function"==typeof e;)e=e();f=B(o,Array.isArray(e)?e:[e],Array.isArray(r)?r:[r])||f}else o.push(e),f=!0;else{var a=String(e);r&&3===r.nodeType&&r.data===a?o.push(r):o.push(document.createTextNode(a))}}return f}function q(t,n,o=null){for(let e=0,r=n.length;e<r;e++)t.insertBefore(n[e],o)}function S(t,n,o,e){if(void 0===o)return t.textContent="";var l=e||document.createTextNode("");if(n.length){let r=!1;for(let e=n.length-1;0<=e;e--){var i,u=n[e];l!==u?(i=u.parentNode===t,r||e?i&&u.remove():i?t.replaceChild(l,u):t.insertBefore(l,o)):r=!0}}else t.insertBefore(l,o);return[l]}let ae="http://www.w3.org/2000/svg";function ge(e,r=!1){return r?document.createElementNS(ae,e):document.createElement(e)}function he(t){let o=t.useShadow,l=document.createTextNode(""),e=L(),i,r=!!v.context;return ne(()=>{r&&(L().t=r=!1),i=i||te(e,()=>K(()=>t.children));let n=t.mount||document.body;if(n instanceof HTMLHeadElement){let[r,e]=M(!1),t=()=>e(!0);oe(e=>_(n,()=>(r()?e:i)(),null)),k(t)}else{let e=ge(t.isSVG?"g":"div",t.isSVG),r=o&&e.attachShadow?e.attachShadow({mode:"open"}):e;Object.defineProperty(e,"o",{get(){return l.parentNode},l:!0}),_(r,i),n.appendChild(e),t.i&&t.i(e),k(()=>n.removeChild(e))}},void 0,{u:!r}),l}let H=Symbol("store-raw"),b=Symbol("store-node"),h=Symbol("store-has"),Z=Symbol("store-self");function X(t){let n=t[m];if(!n&&(Object.defineProperty(t,m,{value:n=new Proxy(t,Se)}),!Array.isArray(t))){var o=Object.keys(t),l=Object.getOwnPropertyDescriptors(t);for(let e=0,r=o.length;e<r;e++){var i=o[e];l[i].get&&Object.defineProperty(t,i,{v:l[i].v,get:l[i].get.bind(n)})}}return n}function D(e){let r;return null!=e&&"object"==typeof e&&(e[m]||!(r=Object.getPrototypeOf(e))||r===Object.prototype||Array.isArray(e))}function T(t,n=new Set){let e,o,l,i;if(e=null!=t&&t[H])return e;if(D(t)&&!n.has(t))if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):n.add(t);for(let e=0,r=t.length;e<r;e++)l=t[e],(o=T(l,n))!==l&&(t[e]=o)}else{Object.isFrozen(t)?t=Object.assign({},t):n.add(t);var u=Object.keys(t),f=Object.getOwnPropertyDescriptors(t);for(let e=0,r=u.length;e<r;e++)f[i=u[e]].get||(l=t[i],(o=T(l,n))===l)||(t[i]=o)}return t}function $(e,r){let t=e[r];return t||Object.defineProperty(e,r,{value:t=Object.create(null)}),t}function O(e,r,t){var n;return e[r]||([t,n]=M(t,{equals:!1,g:!0}),t.m=n,e[r]=t)}function ye(e,r){var t=Reflect.getOwnPropertyDescriptor(e,r);return t&&!t.get&&t.l&&r!==m&&r!==b&&(delete t.value,delete t.writable,t.get=()=>e[m][r]),t}function Y(e){R()&&O($(e,b),Z)()}function me(e){return Y(e),Reflect.ownKeys(e)}let Se={get(e,r,t){if(r===H)return e;if(r===m)return t;if(r===V)return Y(e),t;var t=$(e,b),n=t[r];let o=n?n():e[r];return r!==b&&r!==h&&"__proto__"!==r&&D(o=n||(n=Object.getOwnPropertyDescriptor(e,r),!R())||"function"==typeof o&&!e.hasOwnProperty(r)||n&&n.get?o:O(t,r,o)())?X(o):o},has(e,r){return r===H||r===m||r===V||r===b||r===h||"__proto__"===r||(R()&&O($(e,h),r)(),r in e)},set(){return!0},deleteProperty(){return!0},ownKeys:me,getOwnPropertyDescriptor:ye};function E(n,e,o,l=!1){if(l||n[e]!==o){var l=n[e],i=n.length;void 0===o?(delete n[e],n[h]&&n[h][e]&&void 0!==l&&n[h][e].m()):(n[e]=o,n[h]&&n[h][e]&&void 0===l&&n[h][e].m());let r=$(n,b),t;if((t=O(r,e,l))&&t.m(()=>o),Array.isArray(n)&&n.length!==i){for(let e=n.length;e<i;e++)(t=r[e])&&t.m();(t=O(r,"length",i))&&t.m(n.length)}(t=r[Z])&&t.m()}}function J(r,t){var n=Object.keys(t);for(let e=0;e<n.length;e+=1){var o=n[e];E(r,o,t[o])}}function be(t,n){if(n=T(n="function"==typeof n?n(t):n),Array.isArray(n)){if(t!==n){let e=0,r=n.length;for(;e<r;e++){var o=n[e];t[e]!==o&&E(t,e,o)}E(t,"length",r)}}else J(t,n)}function A(r,t,n=[]){let o,e=r;if(1<t.length){var l=typeof(o=t.shift()),i=Array.isArray(r);if(Array.isArray(o)){for(let e=0;e<o.length;e++)A(r,[o[e]].concat(t),n);return}if(i&&"function"==l){for(let e=0;e<r.length;e++)o(r[e],e)&&A(r,[e].concat(t),n);return}if(i&&"object"==l){var{from:i=0,to:u=r.length-1,p:f=1}=o;for(let e=i;e<=u;e+=f)A(r,[e].concat(t),n);return}if(1<t.length)return void A(r[o],t,[o].concat(n));e=r[o],n=[o].concat(n)}let a=t[0];"function"==typeof a&&(a=a(e,n))===e||void 0===o&&null==a||(a=T(a),void 0===o||D(e)&&D(a)&&!Array.isArray(a)?J(e,a):E(r,o,a))}function we(...[e]){let r=T(e||{}),t=Array.isArray(r),n=X(r);return[n,function(...e){ie(()=>{t&&1===e.length?be(r,e[0]):A(r,e)})}]}let x={h:{opacity:0,y:-25,filter:"blur(5px)"},O:{opacity:1,y:0,filter:"blur(0px)"},j:{opacity:1,y:0,filter:"blur(0px)"},A:{opacity:0,y:25,filter:"blur(5px)"}},F={h:{backgroundColor:"rgba(0, 0, 0, 0)",backdropFilter:"blur(0px)"},O:{backgroundColor:"rgba(0, 0, 0, 0.125)",backdropFilter:"blur(2px)"},j:{backgroundColor:"rgba(0, 0, 0, 0.125)",backdropFilter:"blur(2px)"},A:{backgroundColor:"rgba(0, 0, 0, 0)",backdropFilter:"blur(0px)"}},Q=p(null);function Ce(){var e=W(Q);if(null===e)throw new Error("useDialogForInternal must be used within a DialogProvider");return e}function Ee(r){let[e,t]=we({S:99});function n(e){return{...e,duration:r.C?.animationInSecond??.3}}var o={state:e,C:{F:{h:r.C?.F?.h??x.h,O:n(r.C?.F?.O??x.O),j:r.C?.F?.j??x.j,A:n(r.C?.F?.A??x.A)},T:{h:r.C?.T?.h??F.h,O:n(r.C?.T?.O??F.O),j:r.C?.T?.j??F.j,A:n(r.C?.T?.A??F.A)}},k(){t("latestZIndex",e=>e+1)}};return y(Q.Provider,{value:o,get children(){return r.children}})}var Ae=e=>e instanceof Element;function U(e){let r=e.i,t=le(()=>e.children),n;return re(()=>{let e=t.toArray().find(Ae);e!==n&&fe(()=>r(e)),n=e}),k(()=>n&&r(void 0)),t}let z=p(null);function Te(){var e=W(z);if(e)return e;throw new Error("useDialog must be used within a DialogInternalProvider")}function Oe(t){let[n,e]=M(),o=K(()=>n()?.parentElement),r=Ce(),l=r.C.T,i=r.C.F,u;function f(){var e;(e=n())&&(g.set(e,i.j),g.to(e,i.A)),(e=o())&&(g.set(e,l.j),u=g.to(e,l.A)),u.then(()=>{t.D?.()})}return I(function(){var e;(e=o())&&(g.set(e,{inset:0,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",zIndex:r.state.S}),r.k(),g.set(e,l.h),u=g.to(e,l.O)),(e=n())&&(g.set(e,i.h),g.to(e,i.O))}),I(function(){let e=o(),r=n();e&&r&&1==t._&&(e.onclick=function(e){e.target.contains(r)&&f()})}),y(z.Provider,{get value(){return{D:f,_:t._}},get children(){return y(U,{i:e,get children(){return t.children}})}})}var xe=de("<div>");function Ne(r){return y(ce,{get P(){return r.show},get children(){return y(he,{get mount(){return document.body},get children(){return y(Oe,{get D(){return r.D},get _(){return r._},get children(){var e=xe();return e.style.setProperty("margin-inline","auto"),e.style.setProperty("width","max-content"),_(e,()=>r.children),e}})}})}})}function je(e){let t,r=Te();return I(()=>{t.onclick=function(){r.D()}}),y(U,{i(e){var r=t;"function"==typeof r?r(e):t=e},get children(){return e.children}})}export{Ne as Dialog,je as DialogCloseButton,Ee as DialogProvider};