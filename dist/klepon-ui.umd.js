(function(h,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("solid-js"),require("gsap")):typeof define=="function"&&define.amd?define(["exports","solid-js","gsap"],u):(h=typeof globalThis<"u"?globalThis:h||self,u(h.KleponUI={},h.solidJs,h.gsap))})(this,function(h,u,y){"use strict";function U(e,n,t){let o=t.length,i=n.length,r=o,l=0,f=0,c=n[i-1].nextSibling,s=null;for(;l<i||f<r;){if(n[l]===t[f]){l++,f++;continue}for(;n[i-1]===t[r-1];)i--,r--;if(i===l){const a=r<o?f?t[f-1].nextSibling:t[r-f]:c;for(;f<r;)e.insertBefore(t[f++],a)}else if(r===f)for(;l<i;)(!s||!s.has(n[l]))&&n[l].remove(),l++;else if(n[l]===t[r-1]&&t[f]===n[i-1]){const a=n[--i].nextSibling;e.insertBefore(t[f++],n[l++].nextSibling),e.insertBefore(t[--r],a),n[i]=t[r]}else{if(!s){s=new Map;let g=f;for(;g<r;)s.set(t[g],g++)}const a=s.get(n[l]);if(a!=null)if(f<a&&a<r){let g=l,S=1,C;for(;++g<i&&g<r&&!((C=s.get(n[g]))==null||C!==a+S);)S++;if(S>a-f){const A=n[l];for(;f<a;)e.insertBefore(t[f++],A)}else e.replaceChild(t[f++],n[l++])}else l++;else n[l++].remove()}}}function p(e,n,t){let o;const i=()=>{const l=document.createElement("template");return l.innerHTML=e,l.content.firstChild},r=()=>(o||(o=i())).cloneNode(!0);return r.cloneNode=r,r}function N(e,n,t,o){if(t!==void 0&&!o&&(o=[]),typeof n!="function")return F(e,n,o,t);u.createRenderEffect(i=>F(e,n(),i,t),o)}function Q(e){return!!u.sharedConfig.context&&!u.sharedConfig.done&&(!e||e.isConnected)}function F(e,n,t,o,i){const r=Q(e);if(r){!t&&(t=[...e.childNodes]);let c=[];for(let s=0;s<t.length;s++){const a=t[s];a.nodeType===8&&a.data.slice(0,2)==="!$"?a.remove():c.push(a)}t=c}for(;typeof t=="function";)t=t();if(n===t)return t;const l=typeof n,f=o!==void 0;if(e=f&&t[0]&&t[0].parentNode||e,l==="string"||l==="number"){if(r||l==="number"&&(n=n.toString(),n===t))return t;if(f){let c=t[0];c&&c.nodeType===3?c.data!==n&&(c.data=n):c=document.createTextNode(n),t=b(e,t,o,c)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||l==="boolean"){if(r)return t;t=b(e,t,o)}else{if(l==="function")return u.createRenderEffect(()=>{let c=n();for(;typeof c=="function";)c=c();t=F(e,c,t,o)}),()=>t;if(Array.isArray(n)){const c=[],s=t&&Array.isArray(t);if(k(c,n,t,i))return u.createRenderEffect(()=>t=F(e,c,t,o,!0)),()=>t;if(r){if(!c.length)return t;if(o===void 0)return t=[...e.childNodes];let a=c[0];if(a.parentNode!==e)return t;const g=[a];for(;(a=a.nextSibling)!==o;)g.push(a);return t=g}if(c.length===0){if(t=b(e,t,o),f)return t}else s?t.length===0?H(e,c,o):U(e,t,c):(t&&b(e),H(e,c));t=c}else if(n.nodeType){if(r&&n.parentNode)return t=f?[n]:n;if(Array.isArray(t)){if(f)return t=b(e,t,o,n);b(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function k(e,n,t,o){let i=!1;for(let r=0,l=n.length;r<l;r++){let f=n[r],c=t&&t[e.length],s;if(!(f==null||f===!0||f===!1))if((s=typeof f)=="object"&&f.nodeType)e.push(f);else if(Array.isArray(f))i=k(e,f,c)||i;else if(s==="function")if(o){for(;typeof f=="function";)f=f();i=k(e,Array.isArray(f)?f:[f],Array.isArray(c)?c:[c])||i}else e.push(f),i=!0;else{const a=String(f);c&&c.nodeType===3&&c.data===a?e.push(c):e.push(document.createTextNode(a))}}return i}function H(e,n,t=null){for(let o=0,i=n.length;o<i;o++)e.insertBefore(n[o],t)}function b(e,n,t,o){if(t===void 0)return e.textContent="";const i=o||document.createTextNode("");if(n.length){let r=!1;for(let l=n.length-1;l>=0;l--){const f=n[l];if(i!==f){const c=f.parentNode===e;!r&&!l?c?e.replaceChild(i,f):e.insertBefore(i,t):c&&f.remove()}else r=!0}}else e.insertBefore(i,t);return[i]}const z="http://www.w3.org/2000/svg";function J(e,n=!1){return n?document.createElementNS(z,e):document.createElement(e)}function ee(e){const{useShadow:n}=e,t=document.createTextNode(""),o=()=>e.mount||document.body,i=u.getOwner();let r,l=!!u.sharedConfig.context;return u.createEffect(()=>{l&&(u.getOwner().user=l=!1),r||(r=u.runWithOwner(i,()=>u.createMemo(()=>e.children)));const f=o();if(f instanceof HTMLHeadElement){const[c,s]=u.createSignal(!1),a=()=>s(!0);u.createRoot(g=>N(f,()=>c()?g():r(),null)),u.onCleanup(a)}else{const c=J(e.isSVG?"g":"div",e.isSVG),s=n&&c.attachShadow?c.attachShadow({mode:"open"}):c;Object.defineProperty(c,"_$host",{get(){return t.parentNode},configurable:!0}),N(s,r),f.appendChild(c),e.ref&&e.ref(c),u.onCleanup(()=>f.removeChild(c))}},void 0,{render:!l}),t}const I=Symbol("store-raw"),w=Symbol("store-node"),m=Symbol("store-has"),L=Symbol("store-self");function X(e){let n=e[u.$PROXY];if(!n&&(Object.defineProperty(e,u.$PROXY,{value:n=new Proxy(e,oe)}),!Array.isArray(e))){const t=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let i=0,r=t.length;i<r;i++){const l=t[i];o[l].get&&Object.defineProperty(e,l,{enumerable:o[l].enumerable,get:o[l].get.bind(n)})}}return n}function $(e){let n;return e!=null&&typeof e=="object"&&(e[u.$PROXY]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function O(e,n=new Set){let t,o,i,r;if(t=e!=null&&e[I])return t;if(!$(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let l=0,f=e.length;l<f;l++)i=e[l],(o=O(i,n))!==i&&(e[l]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const l=Object.keys(e),f=Object.getOwnPropertyDescriptors(e);for(let c=0,s=l.length;c<s;c++)r=l[c],!f[r].get&&(i=e[r],(o=O(i,n))!==i&&(e[r]=o))}return e}function D(e,n){let t=e[n];return t||Object.defineProperty(e,n,{value:t=Object.create(null)}),t}function T(e,n,t){if(e[n])return e[n];const[o,i]=u.createSignal(t,{equals:!1,internal:!0});return o.$=i,e[n]=o}function ne(e,n){const t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===u.$PROXY||n===w||(delete t.value,delete t.writable,t.get=()=>e[u.$PROXY][n]),t}function Y(e){u.getListener()&&T(D(e,w),L)()}function te(e){return Y(e),Reflect.ownKeys(e)}const oe={get(e,n,t){if(n===I)return e;if(n===u.$PROXY)return t;if(n===u.$TRACK)return Y(e),t;const o=D(e,w),i=o[n];let r=i?i():e[n];if(n===w||n===m||n==="__proto__")return r;if(!i){const l=Object.getOwnPropertyDescriptor(e,n);u.getListener()&&(typeof r!="function"||e.hasOwnProperty(n))&&!(l&&l.get)&&(r=T(o,n,r)())}return $(r)?X(r):r},has(e,n){return n===I||n===u.$PROXY||n===u.$TRACK||n===w||n===m||n==="__proto__"?!0:(u.getListener()&&T(D(e,m),n)(),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:te,getOwnPropertyDescriptor:ne};function R(e,n,t,o=!1){if(!o&&e[n]===t)return;const i=e[n],r=e.length;t===void 0?(delete e[n],e[m]&&e[m][n]&&i!==void 0&&e[m][n].$()):(e[n]=t,e[m]&&e[m][n]&&i===void 0&&e[m][n].$());let l=D(e,w),f;if((f=T(l,n,i))&&f.$(()=>t),Array.isArray(e)&&e.length!==r){for(let c=e.length;c<r;c++)(f=l[c])&&f.$();(f=T(l,"length",r))&&f.$(e.length)}(f=l[L])&&f.$()}function q(e,n){const t=Object.keys(n);for(let o=0;o<t.length;o+=1){const i=t[o];R(e,i,n[i])}}function ie(e,n){if(typeof n=="function"&&(n=n(e)),n=O(n),Array.isArray(n)){if(e===n)return;let t=0,o=n.length;for(;t<o;t++){const i=n[t];e[t]!==i&&R(e,t,i)}R(e,"length",o)}else q(e,n)}function P(e,n,t=[]){let o,i=e;if(n.length>1){o=n.shift();const l=typeof o,f=Array.isArray(e);if(Array.isArray(o)){for(let c=0;c<o.length;c++)P(e,[o[c]].concat(n),t);return}else if(f&&l==="function"){for(let c=0;c<e.length;c++)o(e[c],c)&&P(e,[c].concat(n),t);return}else if(f&&l==="object"){const{from:c=0,to:s=e.length-1,by:a=1}=o;for(let g=c;g<=s;g+=a)P(e,[g].concat(n),t);return}else if(n.length>1){P(e[o],n,[o].concat(t));return}i=e[o],t=[o].concat(t)}let r=n[0];typeof r=="function"&&(r=r(i,t),r===i)||o===void 0&&r==null||(r=O(r),o===void 0||$(i)&&$(r)&&!Array.isArray(r)?q(i,r):R(e,o,r))}function re(...[e,n]){const t=O(e||{}),o=Array.isArray(t),i=X(t);function r(...l){u.batch(()=>{o&&l.length===1?ie(t,l[0]):P(t,l)})}return[i,r]}const E={enterFrom:{opacity:0,y:-25,filter:"blur(5px)"},enterTo:{opacity:1,y:0,filter:"blur(0px)"},leaveFrom:{opacity:1,y:0,filter:"blur(0px)"},leaveTo:{opacity:0,y:25,filter:"blur(5px)"}},j={enterFrom:{backgroundColor:"rgba(0, 0, 0, 0)",backdropFilter:"blur(0px)"},enterTo:{backgroundColor:"rgba(0, 0, 0, 0.125)",backdropFilter:"blur(2px)"},leaveFrom:{backgroundColor:"rgba(0, 0, 0, 0.125)",backdropFilter:"blur(2px)"},leaveTo:{backgroundColor:"rgba(0, 0, 0, 0)",backdropFilter:"blur(0px)"}},K=u.createContext(null);function fe(){const e=u.useContext(K);if(e===null)throw new Error("useDialogForInternal must be used within a DialogProvider");return e}function ce(e){var r,l,f,c,s,a,g,S,C,A,d,x,v,_,M,W;const[n,t]=re({latestZIndex:99});function o(B){var Z;return{...B,duration:((Z=e.config)==null?void 0:Z.animationInSecond)??.3}}const i={state:n,config:{contentSpec:{enterFrom:((l=(r=e.config)==null?void 0:r.contentSpec)==null?void 0:l.enterFrom)??E.enterFrom,enterTo:o(((c=(f=e.config)==null?void 0:f.contentSpec)==null?void 0:c.enterTo)??E.enterTo),leaveFrom:((a=(s=e.config)==null?void 0:s.contentSpec)==null?void 0:a.leaveFrom)??E.leaveFrom,leaveTo:o(((S=(g=e.config)==null?void 0:g.contentSpec)==null?void 0:S.leaveTo)??E.leaveTo)},scrimSpec:{enterFrom:((A=(C=e.config)==null?void 0:C.scrimSpec)==null?void 0:A.enterFrom)??j.enterFrom,enterTo:o(((x=(d=e.config)==null?void 0:d.scrimSpec)==null?void 0:x.enterTo)??j.enterTo),leaveFrom:((_=(v=e.config)==null?void 0:v.scrimSpec)==null?void 0:_.leaveFrom)??j.leaveFrom,leaveTo:o(((W=(M=e.config)==null?void 0:M.scrimSpec)==null?void 0:W.leaveTo)??j.leaveTo)}},requestRender(){t("latestZIndex",B=>B+1)}};return u.createComponent(K.Provider,{value:i,get children(){return e.children}})}var le=e=>e instanceof Element;function G(e){const n=e.ref,t=u.children(()=>e.children);let o;return u.createComputed(()=>{const i=t.toArray().find(le);i!==o&&u.untrack(()=>n(i)),o=i}),u.onCleanup(()=>o&&n(void 0)),t}const V=u.createContext(null);function ue(){const e=u.useContext(V);if(!e)throw new Error("useDialog must be used within a DialogInternalProvider");return e}function ae(e){const[n,t]=u.createSignal(),o=u.createMemo(()=>{var d;return(d=n())==null?void 0:d.parentElement}),i=fe(),r=i.config.scrimSpec,l=i.config.contentSpec;let f;function c(){const d=n();d&&(y.set(d,l.enterFrom),y.to(d,l.enterTo))}function s(){const d=o();d&&(y.set(d,{inset:0,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",zIndex:i.state.latestZIndex}),i.requestRender(),y.set(d,r.enterFrom),f=y.to(d,r.enterTo))}function a(){s(),c()}u.onMount(a);function g(){const d=o();d&&(y.set(d,r.leaveFrom),f=y.to(d,r.leaveTo))}function S(){const d=n();d&&(y.set(d,l.leaveFrom),y.to(d,l.leaveTo))}function C(){S(),g(),f.then(()=>{var d;(d=e.onClose)==null||d.call(e)})}function A(){const d=o(),x=n();!d||!x||e.closeOnScrimClick==!0&&(d.onclick=function(v){v.target.contains(x)&&C()})}return u.onMount(A),u.createComponent(V.Provider,{get value(){return{onClose:C,closeOnScrimClick:e.closeOnScrimClick}},get children(){return u.createComponent(G,{ref:t,get children(){return e.children}})}})}var se=p("<div>");function de(e){return u.createComponent(u.Show,{get when(){return e.show},get children(){return u.createComponent(ee,{get mount(){return document.body},get children(){return u.createComponent(ae,{get onClose(){return e.onClose},get closeOnScrimClick(){return e.closeOnScrimClick},get children(){var n=se();return n.style.setProperty("margin-inline","auto"),n.style.setProperty("width","max-content"),N(n,()=>e.children),n}})}})}})}function ge(e){let n;const t=ue();return u.onMount(()=>{n.onclick=function(){t.onClose()}}),u.createComponent(G,{ref(o){var i=n;typeof i=="function"?i(o):n=o},get children(){return e.children}})}h.Dialog=de,h.DialogCloseButton=ge,h.DialogProvider=ce,Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});
